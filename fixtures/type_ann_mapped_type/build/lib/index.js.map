{"version":3,"file":"./index.js","sources":["../../lib/mapped_type.esc","../../bin/foo.esc"],"sourcesContent":["type MyPick\u003cT, K: keyof T\u003e = {[P]: T[P] for P in K}\ntype MyPartial\u003cT\u003e = {[P]?: T[P] for P in keyof T}\ntype MyRequired\u003cT\u003e = {[P]-?: T[P] for P in keyof T}\ntype MyReadonly\u003cT\u003e = {readonly [P]: T[P] for P in keyof T}\ntype MyRecord\u003cK: keyof any, T\u003e = {[P]: T for P in K}\n\ntype Obj = {a: number, b: string, c: boolean}\n\ndeclare val obj1: MyPick\u003cObj, \"a\" | \"c\"\u003e\nval a1 = obj1.a\nval b1 = obj1.b // error, this field shouldn't exist on obj1\nval c1 = obj1.c\n\ntype PartialObj = MyPartial\u003cObj\u003e\ndeclare val obj2: PartialObj\nval a2 = obj2.a\nval b2 = obj2.b\nval c2 = obj2.c\n\ntype RequiredObj = MyRequired\u003cPartialObj\u003e\ndeclare val obj3: RequiredObj\nval a3 = obj3.a\nval b3 = obj3.b\nval c3 = obj3.c\n\ndeclare val record: MyRecord\u003c\"email\" | \"username\", string\u003e\nval email1 = record.email\nval username1 = record.username\n\ntype MyExclude\u003cT, U\u003e = if T : U { never } else { T }\ntype MyExtract\u003cT, U\u003e = if T : U { T } else { never }\ntype MyOmit\u003cT, K: keyof any\u003e = MyPick\u003cT, MyExclude\u003ckeyof T, K\u003e\u003e\n\ndeclare val obj4: MyOmit\u003cObj, \"b\"\u003e\nval a4 = obj4.a\nval b4 = obj4.b // error, this field shouldn't exist on obj4\nval c4 = obj4.c\n\ntype SimpleMappedObj = {[P]: string for P in \"foo\" | \"bar\"}\ndeclare val obj5: SimpleMappedObj\nval foo1 = obj5.foo\nval bar1 = obj5.bar\nval {foo, bar} = obj5\n\ntype MultiMappedObj = {\n    [P]: string for P in \"foo\" | \"bar\",\n    [P]: number for P in \"x\" | \"y\",\n    flag: boolean,\n}\ndeclare val obj6: MultiMappedObj\nval foo2 = obj6.foo\nval bar2 = obj6.bar\nval x = obj6.x\nval y = obj6.y\nval flag = obj6.flag\n\ntype AddPrefix\u003cT\u003e = {[`prefix_${K}`]: T[K] for K in keyof T}\ndeclare val obj7: AddPrefix\u003cObj\u003e\nval prefixA = obj7.prefix_a\nval prefixB = obj7.prefix_b\nval prefixC = obj7.prefix_c\n\ntype OnlyStrings\u003cT\u003e = {[K]: T[K] for K in keyof T if T[K] : string}\ntype Person = {\n    id: number,\n    name: string,\n    email: string,\n    active: boolean,\n}\ndeclare val strPerson: OnlyStrings\u003cPerson\u003e\nval id = strPerson.id\nval name = strPerson.name\nval email = strPerson.email\nval active = strPerson.active\n","\ndeclare val roObj: mut MyReadonly\u003cObj\u003e\nval roA = roObj.a\nroObj.a = roA\n"],"names":[],"mappings":"aASI,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aAIV,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aAIV,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aAGV,AAAA,SAAS,AAAA,OAAO;aAChB,AAAA,YAAY,AAAA,OAAO;aAOnB,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aACV,AAAA,KAAK,AAAA,KAAK;aAIV,AAAA,OAAO,AAAA,KAAK;aACZ,AAAA,OAAO,AAAA,KAAK;aACZ,aAAa;aAQb,AAAA,OAAO,AAAA,KAAK;aACZ,AAAA,OAAO,AAAA,KAAK;aACZ,AAAA,IAAI,AAAA,KAAK;aACT,AAAA,IAAI,AAAA,KAAK;aACT,AAAA,OAAO,AAAA,KAAK;aAIZ,AAAA,UAAU,AAAA,KAAK;aACf,AAAA,UAAU,AAAA,KAAK;aACf,AAAA,UAAU,AAAA,KAAK;aAUf,AAAA,KAAK,AAAA,UAAU;aACf,AAAA,OAAO,AAAA,UAAU;aACjB,AAAA,QAAQ,AAAA,UAAU;aAClB,AAAA,SAAS,AAAA,UAAU"}